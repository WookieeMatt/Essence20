<form class="{{cssClass}}" autocomplete="off">

  {{!-- Item Sheet Header --}}
  {{> "systems/essence20/templates/item/parts/header.hbs"}}

  {{!-- Item Sheet Body --}}
  <section class="sheet-body item-sheet">
    <div>

      {{!-- System --}}
      {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.RoleVersion'}}
      {{#*inline "item-field-inputs"}}
      <select class="item-field-inputs" name="system.version">
        {{#select system.version}}
        {{#each config.version as |name type|}}
        <option value="{{type}}">{{name}}</option>
        {{/each}}
        {{/select}}
      </select>
      {{/inline}}
      {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

      {{#ifNotEquals system.version 'myLittlePony'}}

        {{#ifNotEquals system.version 'transformers'}}
          {{!-- Armor Trained --}}
          {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.ArmorTrained'}}
          {{#*inline "item-field-edit"}}
            <a class="trait-selector traits" data-options="armorType" data-target="system.armors.trained" title="{{localize 'E20.TraitSelector'}}">
              <i class="fas fa-edit"></i>
            </a>
          {{/inline}}

          {{#*inline "item-field-inputs"}}
            <div class="chip-section">
              {{#each item.system.armors.trained as |armorType|}}
              <span class="chip" name="chip.armors.trained.{{armorType}}">{{lookup @root.config.armorTypes armorType}}</span>
              {{/each}}
            </div>
          {{/inline}}
          {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}
        {{/ifNotEquals}}

        {{#ifEquals system.version 'giJoe'}}
          {{!-- Armor Quailfication --}}
          {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.ArmorQualified'}}
          {{#*inline "item-field-edit"}}
            <a class="trait-selector traits" data-options="armorType" data-target="system.armors.qualified" title="{{localize 'E20.TraitSelector'}}">
              <i class="fas fa-edit"></i>
            </a>
          {{/inline}}

          {{#*inline "item-field-inputs"}}
            <div class="chip-section">
              {{#each item.system.armors.qualified as |armorType|}}
              <span class="chip" name="chip.armors.qualified.{{armorType}}">{{lookup @root.config.armorTypes armorType}}</span>
              {{/each}}
            </div>
          {{/inline}}
          {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}
        {{/ifEquals}}

        {{#ifNotEquals system.version 'powerRangers'}}
          {{!-- Weapon Trained --}}
          {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.WeaponTrained'}}
          {{#*inline "item-field-edit"}}
            <a class="trait-selector traits" data-options="weaponType" data-target="system.weapons.trained" title="{{localize 'E20.TraitSelector'}}">
              <i class="fas fa-edit"></i>
            </a>
          {{/inline}}

          {{#*inline "item-field-inputs"}}
            <div class="chip-section">
              {{#each item.system.weapons.trained as |weaponType|}}
              <span class="chip" name="chip.weapons.trained.{{weaponType}}">{{lookup @root.config.weaponTypes weaponType}}</span>
              {{/each}}
            </div>
          {{/inline}}
          {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}
        {{/ifNotEquals}}

        {{#ifEquals system.version 'giJoe'}}
          {{!-- Weapon Qualified --}}
          {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.WeaponQualified'}}
          {{#*inline "item-field-edit"}}
            <a class="trait-selector traits" data-options="weaponType" data-target="system.weapons.qualified" title="{{localize 'E20.TraitSelector'}}">
              <i class="fas fa-edit"></i>
            </a>
          {{/inline}}

          {{#*inline "item-field-inputs"}}
            <div class="chip-section">
              {{#each item.system.weapons.qualified as |weaponType|}}
              <span class="chip" name="chip.weapons.qualified.{{weaponType}}">{{lookup @root.config.weaponTypes weaponType}}</span>
              {{/each}}
            </div>
          {{/inline}}
          {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}
        {{/ifEquals}}

        {{#ifEquals system.version 'powerRangers'}}
          {{!-- Personal Power Starting Capacity --}}
          {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.PowerPersonalStartingCapacity'}}
          {{#*inline "item-field-inputs"}}
          <input type="text" name="system.power.personal.starting" value="{{system.power.personal.starting}}" />
          {{/inline}}
          {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

          {{!-- Personal Power Increase Amount --}}
          {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.PowerPersonalIncrease'}}
          {{#*inline "item-field-inputs"}}
          <input type="text" name="system.power.personal.increase" value="{{system.power.personal.increase}}" />
          {{/inline}}
          {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

          {{!-- Personal Power Increase Levels --}}
          {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.PowerPersonalIncreaseLevels'}}
          {{#*inline "item-field-edit"}}
          <a class="trait-selector traits" data-options="actorLevels" data-target="system.power.personal.levels"
            title="{{localize 'E20.EssenceSelector'}}">
            <i class="fas fa-edit"></i>
          </a>
          {{/inline}}

          {{#*inline "item-field-inputs"}}
          <div class="flex-group-right chip-section">
            {{#each item.system.power.personal.levels as |name|}}
              <span class="chip" name="chip.power.personal{{type}}">{{lookup @root.config.actorLevels name}}</span>
            {{/each}}
          </div>
          {{/inline}}
          {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}
        {{/ifEquals}}

        {{!-- Strength Essence Boosts --}}
        {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.EssenceBoostsStrength'}}
        {{#*inline "item-field-edit"}}
        <a class="trait-selector traits" data-options="actorLevels" data-target="system.essences.strength"
          title="{{localize 'E20.EssenceSelector'}}">
          <i class="fas fa-edit"></i>
        </a>
        {{/inline}}

        {{#*inline "item-field-inputs"}}
        <div class="flex-group-right chip-section">
          {{#each item.system.essences.strength as |name|}}
            <span class="chip" name="chip.essences.strength{{type}}">{{lookup @root.config.actorLevels name}}</span>
          {{/each}}
        </div>
        {{/inline}}
        {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

        {{!-- Speed Essence Boosts --}}
        {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.EssenceBoostsSpeed'}}
        {{#*inline "item-field-edit"}}
        <a class="trait-selector traits" data-options="actorLevels" data-target="system.essences.speed"
          title="{{localize 'E20.EssenceSelector'}}">
          <i class="fas fa-edit"></i>
        </a>
        {{/inline}}

        {{#*inline "item-field-inputs"}}
        <div class="flex-group-right chip-section">
          {{#each item.system.essences.speed as |name|}}
            <span class="chip" name="chip.essences.speed{{type}}">{{lookup @root.config.actorLevels name}}</span>
          {{/each}}
        </div>
        {{/inline}}
        {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

        {{!-- Smarts Essence Boosts --}}
        {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.EssenceBoostsSmarts'}}
        {{#*inline "item-field-edit"}}
        <a class="trait-selector traits" data-options="actorLevels" data-target="system.essences.smarts"
          title="{{localize 'E20.EssenceSelector'}}">
          <i class="fas fa-edit"></i>
        </a>
        {{/inline}}

        {{#*inline "item-field-inputs"}}
        <div class="flex-group-right chip-section">
          {{#each item.system.essences.smarts as |name|}}
            <span class="chip" name="chip.essences.smarts{{type}}">{{lookup @root.config.actorLevels name}}</span>
          {{/each}}
        </div>
        {{/inline}}
        {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

        {{!-- Social Essence Boosts --}}
        {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.EssenceBoostsSocial'}}
        {{#*inline "item-field-edit"}}
        <a class="trait-selector traits" data-options="actorLevels" data-target="system.essences.social"
          title="{{localize 'E20.EssenceSelector'}}">
          <i class="fas fa-edit"></i>
        </a>
        {{/inline}}

        {{#*inline "item-field-inputs"}}
        <div class="flex-group-right chip-section">
          {{#each item.system.essences.social as |name|}}
            <span class="chip" name="chip.essences.social{{type}}">{{lookup @root.config.actorLevels name}}</span>
          {{/each}}
        </div>
        {{/inline}}
        {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

        {{!-- Starting Role Skills --}}
        {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.StartingRoleSkills'}}
        {{#*inline "item-field-edit"}}
        <a class="trait-selector traits" data-options="originSkills" data-target="system.skills"
          title="{{localize 'E20.SkillSelector'}}">
          <i class="fas fa-edit"></i>
        </a>
        {{/inline}}

        {{#*inline "item-field-inputs"}}
        <div class="flex-group-right chip-section">
        {{#each item.system.skills as |name|}}
          <span class="chip" name="chip.skills.{{type}}">{{lookup @root.config.originSkills name}}</span>
        {{/each}}
        </div>
        {{/inline}}
        {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}
    {{/ifNotEquals}}

      {{!-- General Perk --}}
      {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.PerkGeneralPlural'}}
      {{#*inline "item-field-edit"}}
      <a class="trait-selector traits" data-options="actorLevels" data-target="system.perks.general"
        title="{{localize 'E20.LevelSelector'}}">
        <i class="fas fa-edit"></i>
      </a>
      {{/inline}}

      {{#*inline "item-field-inputs"}}
      <div class="flex-group-right chip-section">
      {{#each item.system.perks.general as |name|}}
        <span class="chip" name="chip.perks.general.{{type}}">{{lookup @root.config.actorLevels name}}</span>
      {{/each}}
      </div>
      {{/inline}}
      {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

      {{!-- Focus Role Perks --}}
      {{> "systems/essence20/templates/item/parts/id-drop.hbs" className="rolePerk" label='E20.PerkRolePlural' items=@root.rolePerks}}

      {{!-- Description Section --}}
      {{> "systems/essence20/templates/item/parts/description.hbs"}}
    </div>
  </section>
</form>
