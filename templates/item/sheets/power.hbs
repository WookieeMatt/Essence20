<form class="{{cssClass}}" autocomplete="off">

  {{!-- Item Sheet Header --}}
  {{> "systems/essence20/templates/item/parts/header.hbs"}}

  {{!-- Tabs --}}
  <nav class="sheet-tabs tabs" data-group="primary">
    <a class="item" data-tab="main">{{ localize "E20.TabMain" }}</a>
    <a class="item" data-tab="effects">{{ localize "E20.TabEffects" }}</a>
  </nav>

  {{!-- Item Sheet Body --}}
  <section class="sheet-body item-sheet">
    <div class="tab main flexcol" data-group="primary" data-tab="main">

      {{!--Power Type --}}
      {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.PowerTypes'}}
      {{#*inline "item-field-inputs"}}
      <select name="system.type">
        {{#select system.type}}
        {{#each config.powerTypes as |name type|}}
          <option value="{{type}}">{{name}}</option>
        {{/each}}
        {{/select}}
      </select>
      {{/inline}}
      {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

      {{!-- Times Selected --}}
      {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.SelectionLimit'}}
      {{#*inline "item-field-inputs"}}
      <input type="number" name="system.selectionLimit" value="{{system.selectionLimit}}" />
      {{/inline}}
      {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

      {{!-- Power has an Activation --}}
      {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.PowerActive'}}
      {{#*inline "item-field-inputs"}}
      <input type="checkbox" name="system.canActivate" {{checked system.canActivate}} />
      {{/inline}}
      {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

      {{#ifEquals system.canActivate true}}
        {{!-- Power Cost --}}
        {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.PowerCost'}}
        {{#*inline "item-field-inputs"}}
        <input type="number" name="system.powerCost" value="{{system.powerCost}}" />
        {{/inline}}
        {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

        {{!-- Power Incease --}}
        {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.PowerIncrease'}}
        {{#*inline "item-field-inputs"}}
        <input type="checkbox" name="system.hasVariableCost" {{checked system.hasVariableCost}} />
        {{/inline}}
        {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

        {{#ifEquals system.hasVariableCost true}}
          {{!-- Max Power Cost --}}
          {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.PowerMaxCost'}}
          {{#*inline "item-field-inputs"}}
          <input type="number" name="system.maxPowerCost" value="{{system.maxPowerCost}}" />
          {{/inline}}
          {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}
        {{/ifEquals}}

        {{!--Action Type --}}
        {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.ActionTypes'}}
        {{#*inline "item-field-inputs"}}
        <select name="system.actionType">
          {{#select system.actionType}}
          {{#each config.actionTypes as |name type|}}
            <option value="{{type}}">{{name}}</option>
          {{/each}}
          {{/select}}
        </select>
        {{/inline}}
        {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

        {{!-- Uses Per Scene --}}
        {{#> "systems/essence20/templates/item/parts/sheet-field.hbs" label='E20.PowerUsesPer'}}
        {{#*inline "item-field-inputs"}}
        <input type="number" name="system.usesPer" value="{{system.usesPer}}" />
        <select name="system.usesInterval">
          {{#select system.usesInterval}}
          {{#each config.usesInterval as |name type|}}
            <option value="{{type}}">{{name}}</option>
          {{/each}}
          {{/select}}
        </select>
        {{/inline}}
        {{/"systems/essence20/templates/item/parts/sheet-field.hbs"}}

      {{/ifEquals}}


      {{!-- Description Section --}}
      {{> "systems/essence20/templates/item/parts/description.hbs"}}

    </div>

    <div class="tab effects flexcol" data-group="primary" data-tab="effects">
      {{!-- Effects Section --}}
      {{> "systems/essence20/templates/item/parts/active-effects.hbs"}}
    </div>
  </section>

</form>
