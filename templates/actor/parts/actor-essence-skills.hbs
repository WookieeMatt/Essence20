{{!-- Skill header and shift selector --}}
<div class="flexrow flex-between skill-roll" style="align-items: center;">
  <a class="rollable" data-roll-type="skill" data-skill="{{skill}}">{{localize (concat 'E20.essenceSkills.' essence '.' skill)}}</a>
  <select class="shift-select" name="system.skills.{{essence}}.{{skill}}.shift">
    {{selectOptions @root.config.shifts selected=fields.shift localize=true}}
  </select>
</div>

<div style="margin-left: 10px; margin-right: 10px;">
  {{!-- Mod and Spec inputs --}}
  <div>
    <span for="system.skills.{{essence}}.{{skill}}.modifier" class="skill-mod-label">{{localize 'E20.mod'}}</span>
    <input style="width: 20px;" type="number" name="system.skills.{{essence}}.{{skill}}.modifier" value="{{fields.modifier}}"/>
    <span for="system.skills.{{essence}}.{{skill}}.isSpecialized" class="skill-mod-label">{{localize 'E20.spec'}}</span>
    <input type="checkbox" name="system.skills.{{essence}}.{{skill}}.isSpecialized" {{checked fields.isSpecialized}} data-dtype="Boolean"/>
  </div>

  {{!-- Specializations header --}}
  <div style="align-items: center; margin-top: 5px; margin-bottom: 5px;">
    <span class="skill-mod-label" style="flex-grow: 0;">{{localize 'E20.specializations'}}</span>
    <a class="item-create" data-type="specialization" data-skill="{{skill}}" title="{{ localize 'E20.addSpecialization' }}">
      <i class="fas fa-plus"></i>
    </a>
  </div>

  {{!-- Specializations list --}}
  <ol class="items-list"></ol>
    {{#each (lookup @root.specializations skill) as |specialization i|}}
    <li class="item flexrow" data-item-id="{{specialization._id}}">
      <div class="flexrow">
        <div class="item-image" style="flex-grow: 0;">
          <a class="rollable" data-roll-type="skill" data-skill="{{../skill}}" data-specialization="{{specialization.name}}"><i class="fas fa-dice-d20"></i></a>
        </div>
        <input class="inline-edit" data-field="name" type="text" name="{{../skill}}.{{specialization.name}}" value="{{specialization.name}}" />
        <div class="item-controls" style="flex-grow: 0;">
          <a class="item-control item-delete" title="{{localize 'E20.deleteSpecialization'}}"><i class="fas fa-trash"></i></a>
        </div>
      </div>
    </li>
    {{/each}}
  </ol>
</div>

<hr>
